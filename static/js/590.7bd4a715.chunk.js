"use strict";(self.webpackChunkcontainer=self.webpackChunkcontainer||[]).push([[590],{2645:function(e,t,n){n.d(t,{Z:function(){return A}});var r=n(5893),a=n(8720),o=n(4174),i=n(1647),l=n(2747),c=n(1934),u=n(256),s=n.n(u),f=n(5762),p=n.n(f),h=function(e){return p().createInstance({name:"Uspacy",storeName:e})},d=h("tokens"),v=(s().create({baseURL:"MISSING_ENV_VAR".REACT_APP_API_URL}),s().create());v.interceptors.request.use((function(e){return t=void 0,n=void 0,a=function(){var t;return function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(l){return function(c){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,l[0]&&(i=0)),i;)try{if(n=1,r&&(a=2&l[0]?r.return:l[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,l[1])).done)return a;switch(r=0,a&&(l=[2&l[0],a.value]),l[0]){case 0:case 1:a=l;break;case 4:return i.label++,{value:l[1],done:!1};case 5:i.label++,r=l[1],l=[0];continue;case 7:l=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==l[0]&&2!==l[0])){i=0;continue}if(3===l[0]&&(!a||l[1]>a[0]&&l[1]<a[3])){i.label=l[1];break}if(6===l[0]&&i.label<a[1]){i.label=a[1],a=l;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(l);break}a[2]&&i.ops.pop(),i.trys.pop();continue}l=t.call(e,i)}catch(e){l=[6,e],r=0}finally{n=a=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,c])}}}(this,(function(n){switch(n.label){case 0:return[4,d.getItem("token")];case 1:return(t=n.sent())&&(e.headers.Authorization="Bearer ".concat(t)),[2,e]}}))},new((r=void 0)||(r=Promise))((function(e,o){function i(e){try{c(a.next(e))}catch(e){o(e)}}function l(e){try{c(a.throw(e))}catch(e){o(e)}}function c(t){var n;t.done?e(t.value):(n=t.value,n instanceof r?n:new r((function(e){e(n)}))).then(i,l)}c((a=a.apply(t,n||[])).next())}));var t,n,r,a}));var y,b=function(e,t,n){if(n||2===arguments.length)for(var r,a=0,o=t.length;a<o;a++)!r&&a in t||(r||(r=Array.prototype.slice.call(t,0,a)),r[a]=t[a]);return e.concat(r||Array.prototype.slice.call(t))},x=function(e,t){switch((null==t?void 0:t.nameFormat)||"first-last"){case"first-last":default:return(null==e?void 0:e.firstName)||(null==e?void 0:e.lastName)?"".concat((null==e?void 0:e.firstName)||""," ").concat((null==e?void 0:e.lastName)||""):"User";case"last-first":return(null==e?void 0:e.firstName)||(null==e?void 0:e.lastName)?"".concat((null==e?void 0:e.lastName)||""," ").concat((null==e?void 0:e.firstName)||""):"User";case"first-middle-last":return(null==e?void 0:e.firstName)||(null==e?void 0:e.lastName)||(null==e?void 0:e.patronymic)?"".concat((null==e?void 0:e.firstName)||""," ").concat((null==e?void 0:e.patronymic)||""," ").concat((null==e?void 0:e.lastName)||""):"User";case"last-first-middle":return(null==e?void 0:e.firstName)||(null==e?void 0:e.lastName)||(null==e?void 0:e.patronymic)?"".concat((null==e?void 0:e.lastName)||""," ").concat((null==e?void 0:e.firstName)||""," ").concat((null==e?void 0:e.patronymic)||""):"User"}},w=h("users"),g=n(4938),m=n(3557),C=n(2097),D=n(8708),j=n(8660),k=n(1116),O=["title","titleId"];function Z(){return Z=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Z.apply(this,arguments)}var S=function(e,t){var n=e.title,r=e.titleId,a=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,O);return l.createElement("svg",Z({width:14,height:14,viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},a),n?l.createElement("title",{id:r},n):null,y||(y=l.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.33317 0.583344C9.65534 0.583344 9.9165 0.844511 9.9165 1.16668V1.75096C10.1939 1.75287 10.4363 1.75859 10.6467 1.77579C10.9746 1.80258 11.276 1.86008 11.5591 2.00433C11.9982 2.22803 12.3551 2.58499 12.5789 3.02403C12.7231 3.30715 12.7806 3.60856 12.8074 3.93645C12.8332 4.25214 12.8332 4.63968 12.8332 5.10924V10.0575C12.8332 10.527 12.8332 10.9145 12.8074 11.2302C12.7806 11.5581 12.7231 11.8595 12.5789 12.1427C12.3551 12.5817 11.9982 12.9387 11.5591 13.1624C11.276 13.3066 10.9746 13.3641 10.6467 13.3909C10.331 13.4167 9.9435 13.4167 9.47394 13.4167H4.52573C4.05617 13.4167 3.66863 13.4167 3.35294 13.3909C3.02505 13.3641 2.72364 13.3066 2.44053 13.1624C2.00148 12.9387 1.64453 12.5817 1.42082 12.1427C1.27657 11.8595 1.21907 11.5581 1.19228 11.2302C1.16649 10.9145 1.1665 10.527 1.1665 10.0574V5.10925C1.1665 4.63969 1.16649 4.25214 1.19228 3.93645C1.21907 3.60856 1.27657 3.30715 1.42082 3.02403C1.64453 2.58499 2.00148 2.22803 2.44053 2.00433C2.72364 1.86008 3.02505 1.80258 3.35294 1.77579C3.56341 1.75859 3.80582 1.75287 4.08317 1.75096V1.16668C4.08317 0.844511 4.34434 0.583344 4.6665 0.583344C4.98867 0.583344 5.24984 0.844511 5.24984 1.16668V1.75001H8.74984V1.16668C8.74984 0.844511 9.011 0.583344 9.33317 0.583344ZM4.08317 2.91771V3.50001C4.08317 3.82218 4.34434 4.08334 4.6665 4.08334C4.98867 4.08334 5.24984 3.82218 5.24984 3.50001V2.91668H8.74984V3.50001C8.74984 3.82218 9.011 4.08334 9.33317 4.08334C9.65534 4.08334 9.9165 3.82218 9.9165 3.50001V2.91771C10.1764 2.91953 10.3805 2.92459 10.5517 2.93858C10.8075 2.95948 10.9383 2.99735 11.0295 3.04384C11.249 3.15569 11.4275 3.33417 11.5393 3.55369C11.5858 3.64492 11.6237 3.77571 11.6446 4.03145C11.666 4.294 11.6665 4.63367 11.6665 5.13334V5.25001H2.33317V5.13334C2.33317 4.63367 2.33363 4.294 2.35508 4.03145C2.37597 3.77571 2.41384 3.64492 2.46033 3.55369C2.57218 3.33417 2.75066 3.15569 2.97018 3.04384C3.06142 2.99735 3.1922 2.95948 3.44794 2.93858C3.6192 2.92459 3.82328 2.91953 4.08317 2.91771ZM2.33317 6.41668H11.6665V10.0333C11.6665 10.533 11.666 10.8727 11.6446 11.1352C11.6237 11.391 11.5858 11.5218 11.5393 11.613C11.4275 11.8325 11.249 12.011 11.0295 12.1229C10.9383 12.1693 10.8075 12.2072 10.5517 12.2281C10.2892 12.2496 9.94951 12.25 9.44984 12.25H4.54984C4.05017 12.25 3.7105 12.2496 3.44794 12.2281C3.1922 12.2072 3.06142 12.1693 2.97018 12.1229C2.75066 12.011 2.57218 11.8325 2.46033 11.613C2.41384 11.5218 2.37597 11.391 2.35508 11.1352C2.33363 10.8727 2.33317 10.533 2.33317 10.0333V6.41668Z",fill:"currentColor",fillOpacity:.54})))},M=(0,l.forwardRef)(S),N=(n.p,function(){return N=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},N.apply(this,arguments)}),P=(0,o.ZP)(a.Z)((function(){return{padding:"6px 20px",display:"flex",gap:"12px",alignItems:"center"}})),V=function(e){var t=e.user,o=(0,k.cq)().userSettings,u=(0,c.useTranslation)("container-frontend"),s=u.t,f=u.i18n,p=(0,C.Z)(),h=(0,l.useState)(!0),d=h[0],v=h[1],y=(0,l.useState)(null),b=y[0],w=y[1];(0,l.useEffect)((function(){var e,t,r,a;e=void 0,t=void 0,a=function(){var e;return function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(l){return function(c){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,l[0]&&(i=0)),i;)try{if(n=1,r&&(a=2&l[0]?r.return:l[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,l[1])).done)return a;switch(r=0,a&&(l=[2&l[0],a.value]),l[0]){case 0:case 1:a=l;break;case 4:return i.label++,{value:l[1],done:!1};case 5:i.label++,r=l[1],l=[0];continue;case 7:l=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==l[0]&&2!==l[0])){i=0;continue}if(3===l[0]&&(!a||l[1]>a[0]&&l[1]<a[3])){i.label=l[1];break}if(6===l[0]&&i.label<a[1]){i.label=a[1],a=l;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(l);break}a[2]&&i.ops.pop(),i.trys.pop();continue}l=t.call(e,i)}catch(e){l=[6,e],r=0}finally{n=a=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,c])}}}(this,(function(t){switch(t.label){case 0:return[4,(l=(null==f?void 0:f.language)||"en-US",r=void 0,a=void 0,o=void 0,i=function(){return function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(l){return function(c){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,l[0]&&(i=0)),i;)try{if(n=1,r&&(a=2&l[0]?r.return:l[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,l[1])).done)return a;switch(r=0,a&&(l=[2&l[0],a.value]),l[0]){case 0:case 1:a=l;break;case 4:return i.label++,{value:l[1],done:!1};case 5:i.label++,r=l[1],l=[0];continue;case 7:l=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==l[0]&&2!==l[0])){i=0;continue}if(3===l[0]&&(!a||l[1]>a[0]&&l[1]<a[3])){i.label=l[1];break}if(6===l[0]&&i.label<a[1]){i.label=a[1],a=l;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(l);break}a[2]&&i.ops.pop(),i.trys.pop();continue}l=t.call(e,i)}catch(e){l=[6,e],r=0}finally{n=a=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,c])}}}(this,(function(e){switch(e.label){case 0:switch(l){case"en-US":return[3,1];case"uk":return[3,3];case"pt-BR":return[3,5];case"pl":return[3,7]}return[3,9];case 1:case 9:return[4,Promise.resolve().then(n.bind(n,1695))];case 2:case 4:case 6:case 8:case 10:return[2,e.sent().default];case 3:return[4,n.e(379).then(n.bind(n,8379))];case 5:return[4,n.e(994).then(n.bind(n,8994))];case 7:return[4,n.e(652).then(n.bind(n,6652))]}}))},new(o||(o=Promise))((function(e,t){function n(e){try{c(i.next(e))}catch(e){t(e)}}function l(e){try{c(i.throw(e))}catch(e){t(e)}}function c(t){var r;t.done?e(t.value):(r=t.value,r instanceof o?r:new o((function(e){e(r)}))).then(n,l)}c((i=i.apply(r,a||[])).next())})))];case 1:return e=t.sent(),w(e),[2]}var r,a,o,i,l}))},new((r=void 0)||(r=Promise))((function(n,o){function i(e){try{c(a.next(e))}catch(e){o(e)}}function l(e){try{c(a.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,l)}c((a=a.apply(e,t||[])).next())}))}),[null==f?void 0:f.language]);var O=new Date(1e3*t.birthday),Z=new Date,S=(0,D.Z)(O,"dd MMMM",{locale:b}),V=O.getMonth()===Z.getMonth()&&O.getDate()===Z.getDate();return(0,r.jsxs)(P,N({onMouseOver:V?function(){return v(!1)}:void 0,onMouseOut:V?function(){return v(!0)}:void 0},{children:[(0,r.jsx)(a.Z,N({sx:{cursor:"pointer",textDecoration:"none"},component:j.Link,to:"/profile/".concat(t.id)},{children:(0,r.jsx)(g.Z,{src:null==t?void 0:t.avatar,sx:{width:"34px",height:"34px"}})})),(0,r.jsxs)(a.Z,N({sx:{display:"flex",flexDirection:"column",gap:"4px"}},{children:[(0,r.jsx)(a.Z,N({sx:{cursor:"pointer",textDecoration:"none"},component:j.Link,to:"/profile/".concat(t.id)},{children:(0,r.jsx)(i.Z,N({sx:{fontSize:"14px",fontWeight:500}},{children:x(t,o)}))})),(0,r.jsxs)(a.Z,N({sx:{display:"flex",gap:"4px",alignItems:"center"}},{children:[(0,r.jsx)(M,{color:V?p.palette.primary.main:""}),(0,r.jsx)(i.Z,N({sx:{fontSize:"14px",fontWeight:400,color:V&&p.palette.primary.main}},{children:V?"".concat(s("today")," 🎂"):S}))]}))]})),(0,r.jsx)(a.Z,N({sx:{marginLeft:"auto"}},{children:V&&(0,r.jsx)(m.Z,N({disableRipple:!0,sx:{textTransform:"capitalize",visibility:d?"hidden":"visible","&:hover":{backgroundColor:"transparent"}},component:j.Link,to:"/chat/".concat(t.id)},{children:s("congratulate")}))}))]}))},E=function(){return E=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},E.apply(this,arguments)},I=(0,o.ZP)(a.Z)((function(e){return{width:"335px",height:"100%",maxHeight:"388px",backgroundColor:e.theme.palette.common.white,borderRadius:"6px",paddingBottom:"16px",display:"flex",flexDirection:"column",gap:"8px"}})),R=(0,o.ZP)(i.Z)((function(e){return{fontSize:"18px",fontWeight:500,color:e.theme.palette.text.primary}})),A=function(){var e=(0,c.useTranslation)("container-frontend").t,t=(0,l.useState)([]),n=t[0],o=t[1];(0,l.useEffect)((function(){var e,t,n,r;e=void 0,t=void 0,r=function(){var e,t;return function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(l){return function(c){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,l[0]&&(i=0)),i;)try{if(n=1,r&&(a=2&l[0]?r.return:l[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,l[1])).done)return a;switch(r=0,a&&(l=[2&l[0],a.value]),l[0]){case 0:case 1:a=l;break;case 4:return i.label++,{value:l[1],done:!1};case 5:i.label++,r=l[1],l=[0];continue;case 7:l=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==l[0]&&2!==l[0])){i=0;continue}if(3===l[0]&&(!a||l[1]>a[0]&&l[1]<a[3])){i.label=l[1];break}if(6===l[0]&&i.label<a[1]){i.label=a[1],a=l;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(l);break}a[2]&&i.ops.pop(),i.trys.pop();continue}l=t.call(e,i)}catch(e){l=[6,e],r=0}finally{n=a=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,c])}}}(this,(function(n){switch(n.label){case 0:return[4,w.getItem("data")];case 1:return e=n.sent(),Array.isArray(e)?[2,o(e)]:[4,v.get("".concat("/company/v1","/users")).catch((function(){return{data:{data:[]}}}))];case 2:return t=n.sent().data,o(t.data),[2]}}))},new((n=void 0)||(n=Promise))((function(a,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function l(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,l)}c((r=r.apply(e,t||[])).next())}))}),[]);var i=function(e){var t=e.filter((function(e){return null==e?void 0:e.birthday})).filter((function(e){return e.active})).sort((function(e,t){var n=new Date(1e3*+e.birthday).getMonth(),r=new Date(1e3*+t.birthday).getMonth(),a=new Date(1e3*+e.birthday).getDate(),o=new Date(1e3*+t.birthday).getDate();return n===r?a-o:n-r})).filter((function(e){var t=new Date(1e3*e.birthday).getMonth(),n=new Date(1e3*e.birthday).getDate();if(t>=(new Date).getMonth())return t===(new Date).getMonth()?n>=(new Date).getDate():e})),n=t.filter((function(e){var t=(new Date).getMonth(),n=(new Date).getDate();if(new Date(1e3*e.birthday).getMonth()===t)return new Date(1e3*e.birthday).getDate()===n})),r=t.filter((function(e){var t=(new Date).getDate();return new Date(1e3*e.birthday).getDate()!==t}));return n.length<=2?b(b([],n,!0),r.slice(0,3-n.length),!0):n.length>=3?n:t.slice(0,3)}(n);return(0,r.jsxs)(I,{children:[(0,r.jsx)(a.Z,E({sx:{p:"16px 20px 4px 20px"}},{children:(0,r.jsx)(R,{children:e("birthdays")})})),(0,r.jsx)(a.Z,E({sx:{overflow:"auto"}},{children:i.map((function(e){return(0,r.jsx)(V,{user:e},e.id)}))}))]})}},1116:function(e,t,n){n.d(t,{cq:function(){return l}});var r=n(5893),a=n(2747),o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},o.apply(this,arguments)},i=(0,a.createContext)({}),l=function(){return(0,a.useContext)(i)};t.ZP=function(e){var t=e.children,n=e.userSettings;return(0,r.jsx)(i.Provider,o({value:{userSettings:n}},{children:t}))}}}]);
//# sourceMappingURL=590.7bd4a715.chunk.js.map